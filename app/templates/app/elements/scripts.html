{% load static %}

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
<!--   Core JS Files   -->
<script src="{% static '/app/js/core/jquery.min.js' %}" type="text/javascript"></script>
<script src="{% static '/app/js/core/popper.min.js' %}" type="text/javascript"></script>
<script src="{% static '/app/js/core/bootstrap.min.js' %}" type="text/javascript"></script>
<script src="{% static '/app/js/plugins/perfect-scrollbar.jquery.min.js' %}"></script>
<!--  Plugin for Switches, full documentation here: http://www.jque.re/plugins/version3/bootstrap.switch/ -->
<script src="{% static '/app/js/plugins/bootstrap-switch.js' %}"></script>
<!--  Plugin for the Sliders, full documentation here: http://refreshless.com/nouislider/ -->
<script src="{% static '/app/js/plugins/nouislider.min.js' %}" type="text/javascript"></script>
<!-- Chart JS -->
<script src="{% static '/app/js/plugins/chartjs.min.js' %}"></script>
<!--  Plugin for the DatePicker, full documentation here: https://github.com/uxsolutions/bootstrap-datepicker -->
<script src="{% static '/app/js/plugins/moment.min.js' %}"></script>
<script src="{% static '/app/js/plugins/bootstrap-datetimepicker.js' %}" type="text/javascript"></script>
<!-- Black Dashboard DEMO methods, don't include it in your project! -->
<script src="{% static '/app/js/demo.js' %}"></script>
<!-- Control Center for Black UI Kit: parallax effects, scripts for the example pages etc -->
<script src="{% static '/app/js/blk-design-system.min.js' %}" type="text/javascript"></script>
<script>
  $(document).ready(function() {
    blackKit.initDatePicker();
    blackKit.initSliders();
  });

  function scrollToDownload() {

    if ($('.section-download').length != 0) {
      $("html, body").animate({
        scrollTop: $('.section-download').offset().top
      }, 1000);
    }
  }
</script>

<script type="text/javascript">
  // Generic function to send an email
  function sendSignal(urlName, studentId) {
      // Mapping URL names to base URL templates with placeholders
      var urlTemplates = {
            'send_registration_mail': "{% url 'send_registration_mail' 0 %}",
            'send_resource_mail': "{% url 'send_resource_mail' 0 %}",
            'generate_qr_code': "{% url 'generate_qr_code' 0 %}"
      };

      var signalMessages = {
            'send_registration_mail': "Registration mail has been successfully sent!",
            'send_resource_mail': "Important links and ID Card has been sent.",
            'generate_qr_code': "QR Code successfully genereated. You can create the ID Card."
      };

      // Get the base URL template for the given URL name
      var urlTemplate = urlTemplates[urlName];
      var urlMessage = signalMessages[urlName];

      // Replace the placeholder with the actual student ID
      var url = urlTemplate.replace("0", studentId);

      // Call the sendEmail function with the constructed URL
      sendEmail(url, urlMessage);
  }
</script>

<script src="{% static 'app/scripts/form_utils.js' %}"></script>
